`webRTCLocalShare` is a sophisticated component within the `@intershare/hooks.indexdb` library, designed to facilitate file sharing using WebRTC technology in a React application. It leverages IndexedDB for local storage and management of files, along with WebSockets for peer discovery and coordination.

## Key Features

- **WebRTC Integration**: Enables real-time, peer-to-peer file sharing.
- **Dynamic Discovery**: Regularly checks for connected peers and establishes WebRTC connections.
- **File Management**: Coordinates file transfer status and data chunks using IndexedDB.

## Usage

### Initialization

To initialize the `webRTCLocalShare` component, import it from `@intershare/hooks.indexdb` and configure it with the desired interval for peer discovery.

```tsx
import { webRTCLocalShare } from '@intershare/hooks.indexdb'

// Initialize webRTCLocalShare
webRTCLocalShare().init({
  discoveryInterval: 60000, // Discovery interval in milliseconds
})
```

### WebRTC File Sharing

The component uses WebRTC to share files between connected peers. It checks for file availability, coordinates the transfer, and manages file data using IndexedDB.

### WebRTC Connection Handling

`webRTCLocalShare` establishes a new WebRTC connection with each peer and creates a data channel for file transfer. It handles offer, answer, and ice-candidate events to facilitate the peer connection process.

### File Transfer Management

The component listens for file requests and sends file data in chunks if the file is available locally. It also receives file data from peers, reassembles it, and stores it in IndexedDB.

## Example

Here is an example of how `webRTCLocalShare` can be used in a React application:

```tsx
import React from 'react'
import { webRTCLocalShare, ObjectStoresEnum } from '@intershare/hooks.indexdb'

const App: React.FC = () => {
  // Set up webRTCLocalShare on component mount
  React.useEffect(() => {
    webRTCLocalShare().init({
      discoveryInterval: 60000, // Check for peers every 60 seconds
    })
  }, [])

  return (
    <div>
      <h1>WebRTC Local File Sharing</h1>
      {/* Application UI here */}
    </div>
  )
}

export default App
```

This setup initializes the `webRTCLocalShare` component and starts the peer discovery process.

## Contributing

We are open to contributions! If you have ideas for improvements or bug fixes, please submit a pull request or open an issue on our GitHub repository.
